#!/bin/bash

function speak() {
  echo ""
  echo "$1"
  echo ""
}

function update_brew() {
  brew update
  brew upgrade
  brew cleanup
  brew doctor
}

function update_php() {
  brew unlink php`php -r "echo substr(str_replace('.', '', phpversion()), 0, 2);"`
  brew link php$1
  brew upgrade
}

function good() {
  if [ "$1" == "morning" ]; then
    speak "GOOD MORNING YOU ASSHOLE!"

    update_brew
    
    update_php 56
    update_php 55
    update_php 54
    update_php 53

    # upgrade all the installed php versions
    brew unlink php56
    brew link php55
    brew upgrade
    brew unlink php55
    brew link php54
    brew upgrade
    brew unlink php54
    brew link php53
    brew upgrade
    brew unlink php53
    brew link php56

    sudo npm update npm -g
    sudo npm update -g

    sudo gem update --system
    sudo gem update

    sudo composer selfupdate
  elif [ "$1" == "night" ]; then
    speak "NO! Your face is a good night!"
    diskutil repairPermissions /
  fi
}
